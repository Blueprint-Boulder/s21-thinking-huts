!function(o,n){function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var n=16*Math.random()|0;return("x"==o?n:3&n|8).toString(16)})}function t(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger",this.useDomainProxy=!1,this.useUtfEncoding=!1}function s(o,n){o.key=n,o.setSession(),c(o)}function i(o,n){o.tag=n}function r(o,n){o.useDomainProxy=n,c(o)}function l(o,n){o.useUtfEncoding=n}function g(n,e){if(n.sendConsoleErrors=e,!0===n.sendConsoleErrors){var t=o.onerror;o.onerror=function(e,s,i,r,l){n.push({category:"BrowserJsException",exception:{message:e,url:s,lineno:i,colno:r,stack:l?l.stack:"n/a"}}),t&&"function"==typeof t&&t.apply(o,arguments)}}}function c(n){1==n.useDomainProxy?n.inputUrl=a+o.location.host+"/"+f+"/inputs/"+n.key+"/tag/"+n.tag:n.inputUrl=a+(n.logglyCollectorDomain||u)+"/inputs/"+n.key+"/tag/"+n.tag}var a="http"+("https:"===n.location.protocol?"s":"")+"://",u="logs-01.loggly.com",x="logglytrackingsession".length+1,f="loggly";t.prototype={setSession:function(o){o?(this.session_id=o,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id=e(),this.setCookie(this.session_id)))},push:function(o){var n=typeof o;if(o&&("object"===n||"string"===n)){var e=this;if("string"===n)o={text:o};else{if(o.logglyCollectorDomain)return void(e.logglyCollectorDomain=o.logglyCollectorDomain);if(void 0!==o.sendConsoleErrors&&g(e,o.sendConsoleErrors),o.tag&&i(e,o.tag),void 0!==o.useUtfEncoding&&l(e,o.useUtfEncoding),o.useDomainProxy&&r(e,o.useDomainProxy),o.logglyKey)return void s(e,o.logglyKey);if(o.session_id)return void e.setSession(o.session_id)}e.key&&e.track(o)}},track:function(n){n.sessionId=this.session_id;try{var e=new XMLHttpRequest;e.open("POST",this.inputUrl,!0),!0===y.useUtfEncoding?e.setRequestHeader("Content-Type","text/plain; charset=utf-8"):e.setRequestHeader("Content-Type","text/plain"),e.send(JSON.stringify(n))}catch(e){o&&o.console&&"function"==typeof o.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+e),console.log("Failed log data:",n))}},readCookie:function(){var o=n.cookie,e=o.indexOf("logglytrackingsession");if(e<0)return!1;var t=o.indexOf(";",e+1);return t=t<0?o.length:t,o.slice(e+x,t)},setCookie:function(o){n.cookie="logglytrackingsession="+o}};var d=o._LTracker,y=new t;if(d&&d.length){var h=0,p=d.length;for(h=0;h<p;h++)y.push(d[h])}o._LTracker=y,o.LogglyTracker=t}(window,document);
//# sourceMappingURL=loggly.tracker-2.2.3.min.map